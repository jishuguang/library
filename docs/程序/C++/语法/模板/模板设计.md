# 模板设计

## The Polymorphic Power of Templates

### Dynamic versus Static Polymorphism

Terminology
- Bounded means that the interfaces of the types participating in the polymorphic behavior are predetermined by the design of the common base class (other terms for this concept are invasive and intrusive)

basis difference:
- Polymorphism implemented via inheritance is bounded and dynamic (bounded dynamic polymorphism)
    - Heterogeneous collections are handled elegantly
    - The executable code size is potentially smaller
    - no implementation source must be published
- Polymorphism implemented via templates is unbounded and static (unboundedstatic polymorphism)
    - the interface commonality need not be expressed through a common base class
    - Generated code is potentially faster
    - Concrete types that provide only partial interfaces can still be used if only that part ends up being exercised by the application.
- In other languages, other combinations exist

Combining Both Forms
- curiously recurring template pattern (or CRTP)

### New Forms of Design Patterns

Bridge pattern
- dynamic: using an interface class that embeds a pointer to refer to the actual implementation and delegating all calls through this pointer
- static: impl template parameter

### Generic Programming

the most significant contribution in this area is the Standard Template Library (STL)

## Implementing Traits

Traits (or traits templates) are C++ programming devices that greatly facilitate the management of the sort of extra parameters that come up in the design of industrial-strength templates.

