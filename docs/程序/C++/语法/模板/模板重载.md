# 模板重载

```{mermaid}
mindmap
模板重载
    Algorithm specification
    Tag dispatching
```

## 基础

C++ does not currently provide any direct way to express overloads based on type properties.

```cpp
// the names of template parameters are ignored when comparing two function templates
// the two f function templates are actually declarations of the same function template
template<typename Number> void f(Number); // only for numbers
template<typename Container> void f(Container);// only for containers
```

## Algorithm specification

The design and optimization approach of introducing more specialized variants of a generic algorithm is called algorithm specialization.

```cpp
// generic algorithm
template<typename T>
void swap(T& x, T& y)
{
    T tmp(x);
    x = y;
    y = tmp;
}

// more specialized based on the partial ordering rules for function templates, so the compiler will pick this when it is applicable
template<typename T>
void swap(Array<T>& x, Array<T>& y)
{
    swap(x.ptr, y.ptr);
    swap(x.len, y.len);
}
```

## Tag Dispatching