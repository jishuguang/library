# 行为型设计模式

行为型：满足特定行为。

## Template Method

## Iterator

### 适用场景

容器迭代。

### 典型实现

详见C++ Iterator标准库及相关语法，包括：

- begin/end
- for each
- range

## Strategy

## State

## Visitor

## Obeserver

## Chain of Responsibility

### 适用场景

顺序处理。

### 典型实现

```cpp
class Request;

class Filter {
public:
public:
    void SetNext(shared_ptr<Filter> filter)
    {
        if (next) {
            next->SetNext(filter);
        } else {
            next = filter;
        }
    }

    virtual void Handle(Request& request) 
    {
        // Handle request

        if (next) {
            next->Handle(request);
        }
    }

private:
    shared_ptr<Filter> next;
};

class AFilter : public Filter {};
```

```{note}
补充真实示例；

补充对比管道过滤器架构模式。
```

## Commnad

### 适用场景

封装命令，提供额外功能，例如：审计、回退等。

### 典型实现

```cpp
class Command {
    virtual void do() {};
    virtual void undo() {};
};

class CompositeCommand : public Command {
public:
    void AddCommand(shared_ptr<Command> command);
    void do() 
    {
        for (auto& cmd: commands) {
            cmd->do();
        }
    }

    void undo()
    {
        for (auto it = commands.rbegin(); it != commands.rend(); ++it) {
            (*it)->undo();
        }
    }
private:
    vector<shared_ptr<Command>> commands;    
}
```

```{note}
补充真实示例。
```

## Mediator

## Memento

## Null Object

## Interpreter

### 适用场景

解析并执行语法。

```{note}
补充真实示例。
```